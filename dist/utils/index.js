'use strict';

var formatTime = function formatTime(date) {
    var year = date.getFullYear();
    var month = date.getMonth() + 1;
    var day = date.getDate();
    var hour = date.getHours();
    var minute = date.getMinutes();
    var second = date.getSeconds();

    return [year, month, day].map(formatNumber).join('/') + ' ' + [hour, minute, second].map(formatNumber).join(':');
};

var formatNumber = function formatNumber(n) {
    n = n.toString();
    return n[1] ? n : '0' + n;
};

//获取字符串的真实长度（字节长度）
var getlen = function getlen(str) {
    var len = str.length,
        truelen = 0;
    for (var x = 0; x < len; x++) {
        if (str.charCodeAt(x) > 128) {
            truelen += 2;
        } else {
            truelen += 1;
        }
    }
    return Math.ceil(truelen);
};
//按字节长度截取字符串，返回substr截取位置
var cutstr = function cutstr(str, length) {
    var len = str.length,
        tlen = len,
        nlen = 0;
    for (var x = 0; x < len; x++) {
        if (str.charCodeAt(x) > 128) {
            if (nlen + 2 < length) {
                nlen += 2;
            } else {
                tlen = x;
                break;
            }
        } else {
            if (nlen + 1 < length) {
                nlen += 1;
            } else {
                tlen = x;
                break;
            }
        }
    }
    return tlen;
};

var hex2rgba = function hex2rgba(hex) {
    var opacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

    try {

        if (hex.indexOf('rgba(') > -1) {
            var rgba = hex.match(new RegExp(/(\w+)/, 'ig'));
            return 'rgba(' + rgba[1] + ',' + rgba[2] + ',' + rgba[3] + ',' + opacity + ')';
        }

        if (hex.indexOf('rgb(') > -1) {
            var _rgb = hex.match(new RegExp(/(\w+)/, 'ig'));
            return 'rgba(' + _rgb[1] + ',' + _rgb[2] + ',' + _rgb[3] + ',' + opacity + ')';
        }

        if (hex.indexOf('#') < 0 || hex.length < 4 || hex.length >= 5 && hex.length <= 6) {
            return hex;
        }

        hex = hex.length == 4 ? '' + hex[1] + hex[1] + hex[2] + hex[2] + hex[3] + hex[3] : hex;

        var rgb = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);

        var r = parseInt(rgb[1], 16);
        var g = parseInt(rgb[2], 16);
        var b = parseInt(rgb[3], 16);

        return rgb ? 'rgba(' + r + ',' + g + ',' + b + ',' + opacity + ')' : hex;
    } catch (e) {
        return '#ffffff';
    }
};

var status2str = function status2str(status, type) {
    var text = '';
    if (type == 'order') {
        switch (status) {
            case 0:
                text = '待付款';break;
            case 1:
                text = '待发货';break;
            case 2:
                text = '待收货';break;
            case 3:
                text = '待评价';break;
            case 4:
                text = '已完成';break;
            default:
                text = '已失效';
        }
    }
    return text;
};

module.exports = {
    formatTime: formatTime,
    hex2rgba: hex2rgba,
    getlen: getlen,
    cutstr: cutstr,
    status2str: status2str
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImZvcm1hdFRpbWUiLCJ5ZWFyIiwiZGF0ZSIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW51dGUiLCJnZXRNaW51dGVzIiwic2Vjb25kIiwiZ2V0U2Vjb25kcyIsIm1hcCIsImZvcm1hdE51bWJlciIsImpvaW4iLCJuIiwidG9TdHJpbmciLCJnZXRsZW4iLCJsZW4iLCJzdHIiLCJsZW5ndGgiLCJ0cnVlbGVuIiwieCIsImNoYXJDb2RlQXQiLCJNYXRoIiwiY2VpbCIsImN1dHN0ciIsInRsZW4iLCJubGVuIiwiaGV4MnJnYmEiLCJoZXgiLCJvcGFjaXR5IiwiaW5kZXhPZiIsInJnYmEiLCJtYXRjaCIsIlJlZ0V4cCIsInJnYiIsImV4ZWMiLCJyIiwicGFyc2VJbnQiLCJnIiwiYiIsImUiLCJzdGF0dXMyc3RyIiwic3RhdHVzIiwidHlwZSIsInRleHQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUNBLElBQU1BLGFBQWEsU0FBYkEsVUFBYSxPQUFRO0FBQ3pCLFFBQU1DLE9BQU9DLEtBQUtDLFdBQUwsRUFBYjtBQUNBLFFBQU1DLFFBQVFGLEtBQUtHLFFBQUwsS0FBa0IsQ0FBaEM7QUFDQSxRQUFNQyxNQUFNSixLQUFLSyxPQUFMLEVBQVo7QUFDQSxRQUFNQyxPQUFPTixLQUFLTyxRQUFMLEVBQWI7QUFDQSxRQUFNQyxTQUFTUixLQUFLUyxVQUFMLEVBQWY7QUFDQSxRQUFNQyxTQUFTVixLQUFLVyxVQUFMLEVBQWY7O0FBRUEsV0FBTyxDQUFDWixJQUFELEVBQU9HLEtBQVAsRUFBY0UsR0FBZCxFQUFtQlEsR0FBbkIsQ0FBdUJDLFlBQXZCLEVBQXFDQyxJQUFyQyxDQUEwQyxHQUExQyxJQUFpRCxHQUFqRCxHQUF1RCxDQUFDUixJQUFELEVBQU9FLE1BQVAsRUFBZUUsTUFBZixFQUF1QkUsR0FBdkIsQ0FBMkJDLFlBQTNCLEVBQXlDQyxJQUF6QyxDQUE4QyxHQUE5QyxDQUE5RDtBQUNELENBVEQ7O0FBV0EsSUFBTUQsZUFBZSxTQUFmQSxZQUFlLElBQUs7QUFDeEJFLFFBQUlBLEVBQUVDLFFBQUYsRUFBSjtBQUNBLFdBQU9ELEVBQUUsQ0FBRixJQUFPQSxDQUFQLEdBQVcsTUFBTUEsQ0FBeEI7QUFDRCxDQUhEOztBQUtBO0FBQ0EsSUFBTUUsU0FBUyxTQUFUQSxNQUFTLE1BQU87QUFDbEIsUUFBSUMsTUFBTUMsSUFBSUMsTUFBZDtBQUFBLFFBQXNCQyxVQUFVLENBQWhDO0FBQ0EsU0FBSSxJQUFJQyxJQUFJLENBQVosRUFBZUEsSUFBSUosR0FBbkIsRUFBd0JJLEdBQXhCLEVBQTRCO0FBQ3hCLFlBQUdILElBQUlJLFVBQUosQ0FBZUQsQ0FBZixJQUFvQixHQUF2QixFQUEyQjtBQUN2QkQsdUJBQVcsQ0FBWDtBQUNILFNBRkQsTUFFSztBQUNEQSx1QkFBVyxDQUFYO0FBQ0g7QUFDSjtBQUNELFdBQU9HLEtBQUtDLElBQUwsQ0FBVUosT0FBVixDQUFQO0FBQ0gsQ0FWRDtBQVdBO0FBQ0EsSUFBTUssU0FBUyxTQUFUQSxNQUFTLENBQUNQLEdBQUQsRUFBTUMsTUFBTixFQUFpQjtBQUM1QixRQUFJRixNQUFNQyxJQUFJQyxNQUFkO0FBQUEsUUFBc0JPLE9BQU9ULEdBQTdCO0FBQUEsUUFBa0NVLE9BQU8sQ0FBekM7QUFDQSxTQUFJLElBQUlOLElBQUksQ0FBWixFQUFlQSxJQUFJSixHQUFuQixFQUF3QkksR0FBeEIsRUFBNEI7QUFDeEIsWUFBR0gsSUFBSUksVUFBSixDQUFlRCxDQUFmLElBQW9CLEdBQXZCLEVBQTJCO0FBQ3ZCLGdCQUFHTSxPQUFPLENBQVAsR0FBV1IsTUFBZCxFQUFxQjtBQUNqQlEsd0JBQVEsQ0FBUjtBQUNILGFBRkQsTUFFSztBQUNERCx1QkFBT0wsQ0FBUDtBQUNBO0FBQ0g7QUFDSixTQVBELE1BT0s7QUFDRCxnQkFBR00sT0FBTyxDQUFQLEdBQVdSLE1BQWQsRUFBcUI7QUFDakJRLHdCQUFRLENBQVI7QUFDSCxhQUZELE1BRUs7QUFDREQsdUJBQU9MLENBQVA7QUFDQTtBQUNIO0FBQ0o7QUFDSjtBQUNELFdBQU9LLElBQVA7QUFDSCxDQXBCRDs7QUFzQkEsSUFBTUUsV0FBVyxTQUFYQSxRQUFXLENBQUNDLEdBQUQsRUFBb0I7QUFBQSxRQUFkQyxPQUFjLHVFQUFOLENBQU07O0FBQ2pDLFFBQUc7O0FBRUMsWUFBR0QsSUFBSUUsT0FBSixDQUFZLE9BQVosSUFBcUIsQ0FBQyxDQUF6QixFQUEyQjtBQUN2QixnQkFBSUMsT0FBT0gsSUFBSUksS0FBSixDQUFVLElBQUlDLE1BQUosQ0FBVyxPQUFYLEVBQW9CLElBQXBCLENBQVYsQ0FBWDtBQUNBLDZCQUFlRixLQUFLLENBQUwsQ0FBZixTQUEwQkEsS0FBSyxDQUFMLENBQTFCLFNBQXFDQSxLQUFLLENBQUwsQ0FBckMsU0FBZ0RGLE9BQWhEO0FBQ0g7O0FBRUQsWUFBR0QsSUFBSUUsT0FBSixDQUFZLE1BQVosSUFBb0IsQ0FBQyxDQUF4QixFQUEwQjtBQUN0QixnQkFBSUksT0FBTU4sSUFBSUksS0FBSixDQUFVLElBQUlDLE1BQUosQ0FBVyxPQUFYLEVBQW9CLElBQXBCLENBQVYsQ0FBVjtBQUNBLDZCQUFlQyxLQUFJLENBQUosQ0FBZixTQUF5QkEsS0FBSSxDQUFKLENBQXpCLFNBQW1DQSxLQUFJLENBQUosQ0FBbkMsU0FBNkNMLE9BQTdDO0FBQ0g7O0FBRUQsWUFBR0QsSUFBSUUsT0FBSixDQUFZLEdBQVosSUFBbUIsQ0FBbkIsSUFBd0JGLElBQUlWLE1BQUosR0FBYSxDQUFyQyxJQUEyQ1UsSUFBSVYsTUFBSixJQUFjLENBQWQsSUFBbUJVLElBQUlWLE1BQUosSUFBYyxDQUEvRSxFQUFrRjtBQUM5RSxtQkFBT1UsR0FBUDtBQUNIOztBQUVEQSxjQUFNQSxJQUFJVixNQUFKLElBQWMsQ0FBZCxRQUFxQlUsSUFBSSxDQUFKLENBQXJCLEdBQThCQSxJQUFJLENBQUosQ0FBOUIsR0FBdUNBLElBQUksQ0FBSixDQUF2QyxHQUFnREEsSUFBSSxDQUFKLENBQWhELEdBQXlEQSxJQUFJLENBQUosQ0FBekQsR0FBa0VBLElBQUksQ0FBSixDQUFsRSxHQUE2RUEsR0FBbkY7O0FBRUEsWUFBSU0sTUFBTSw0Q0FBNENDLElBQTVDLENBQWlEUCxHQUFqRCxDQUFWOztBQUVBLFlBQUlRLElBQUlDLFNBQVNILElBQUksQ0FBSixDQUFULEVBQWlCLEVBQWpCLENBQVI7QUFDQSxZQUFJSSxJQUFJRCxTQUFTSCxJQUFJLENBQUosQ0FBVCxFQUFpQixFQUFqQixDQUFSO0FBQ0EsWUFBSUssSUFBSUYsU0FBU0gsSUFBSSxDQUFKLENBQVQsRUFBaUIsRUFBakIsQ0FBUjs7QUFFQSxlQUFPQSxnQkFBY0UsQ0FBZCxTQUFtQkUsQ0FBbkIsU0FBd0JDLENBQXhCLFNBQTZCVixPQUE3QixTQUF5Q0QsR0FBaEQ7QUFDSCxLQXpCRCxDQXlCRSxPQUFNWSxDQUFOLEVBQVE7QUFDTixlQUFPLFNBQVA7QUFDSDtBQUNKLENBN0JEOztBQStCQSxJQUFNQyxhQUFhLFNBQWJBLFVBQWEsQ0FBQ0MsTUFBRCxFQUFTQyxJQUFULEVBQWtCO0FBQ2pDLFFBQUlDLE9BQU8sRUFBWDtBQUNBLFFBQUdELFFBQVEsT0FBWCxFQUFtQjtBQUNmLGdCQUFPRCxNQUFQO0FBQ0ksaUJBQUssQ0FBTDtBQUFTRSx1QkFBTyxLQUFQLENBQWM7QUFDdkIsaUJBQUssQ0FBTDtBQUFTQSx1QkFBTyxLQUFQLENBQWM7QUFDdkIsaUJBQUssQ0FBTDtBQUFTQSx1QkFBTyxLQUFQLENBQWM7QUFDdkIsaUJBQUssQ0FBTDtBQUFTQSx1QkFBTyxLQUFQLENBQWM7QUFDdkIsaUJBQUssQ0FBTDtBQUFTQSx1QkFBTyxLQUFQLENBQWM7QUFDdkI7QUFBU0EsdUJBQU8sS0FBUDtBQU5iO0FBUUg7QUFDRCxXQUFPQSxJQUFQO0FBQ0gsQ0FiRDs7QUFlQUMsT0FBT0MsT0FBUCxHQUFpQjtBQUNibEQsMEJBRGE7QUFFYitCLHNCQUZhO0FBR2JaLGtCQUhhO0FBSWJTLGtCQUphO0FBS2JpQjtBQUxhLENBQWpCIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCBmb3JtYXRUaW1lID0gZGF0ZSA9PiB7XG4gIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKClcbiAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxXG4gIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpXG4gIGNvbnN0IGhvdXIgPSBkYXRlLmdldEhvdXJzKClcbiAgY29uc3QgbWludXRlID0gZGF0ZS5nZXRNaW51dGVzKClcbiAgY29uc3Qgc2Vjb25kID0gZGF0ZS5nZXRTZWNvbmRzKClcblxuICByZXR1cm4gW3llYXIsIG1vbnRoLCBkYXldLm1hcChmb3JtYXROdW1iZXIpLmpvaW4oJy8nKSArICcgJyArIFtob3VyLCBtaW51dGUsIHNlY29uZF0ubWFwKGZvcm1hdE51bWJlcikuam9pbignOicpXG59XG5cbmNvbnN0IGZvcm1hdE51bWJlciA9IG4gPT4ge1xuICBuID0gbi50b1N0cmluZygpXG4gIHJldHVybiBuWzFdID8gbiA6ICcwJyArIG5cbn1cblxuLy/ojrflj5blrZfnrKbkuLLnmoTnnJ/lrp7plb/luqbvvIjlrZfoioLplb/luqbvvIlcbmNvbnN0IGdldGxlbiA9IHN0ciA9PiB7XG4gICAgbGV0IGxlbiA9IHN0ci5sZW5ndGgsIHRydWVsZW4gPSAwO1xuICAgIGZvcih2YXIgeCA9IDA7IHggPCBsZW47IHgrKyl7XG4gICAgICAgIGlmKHN0ci5jaGFyQ29kZUF0KHgpID4gMTI4KXtcbiAgICAgICAgICAgIHRydWVsZW4gKz0gMjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0cnVlbGVuICs9IDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIE1hdGguY2VpbCh0cnVlbGVuKTtcbn1cbi8v5oyJ5a2X6IqC6ZW/5bqm5oiq5Y+W5a2X56ym5Liy77yM6L+U5Zuec3Vic3Ry5oiq5Y+W5L2N572uXG5jb25zdCBjdXRzdHIgPSAoc3RyLCBsZW5ndGgpID0+IHtcbiAgICBsZXQgbGVuID0gc3RyLmxlbmd0aCwgdGxlbiA9IGxlbiwgbmxlbiA9IDA7XG4gICAgZm9yKHZhciB4ID0gMDsgeCA8IGxlbjsgeCsrKXtcbiAgICAgICAgaWYoc3RyLmNoYXJDb2RlQXQoeCkgPiAxMjgpe1xuICAgICAgICAgICAgaWYobmxlbiArIDIgPCBsZW5ndGgpe1xuICAgICAgICAgICAgICAgIG5sZW4gKz0gMjtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRsZW4gPSB4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGlmKG5sZW4gKyAxIDwgbGVuZ3RoKXtcbiAgICAgICAgICAgICAgICBubGVuICs9IDE7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0bGVuID0geDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGxlbjtcbn1cblxuY29uc3QgaGV4MnJnYmEgPSAoaGV4LCBvcGFjaXR5PTEpID0+IHtcbiAgICB0cnl7XG5cbiAgICAgICAgaWYoaGV4LmluZGV4T2YoJ3JnYmEoJyk+LTEpe1xuICAgICAgICAgICAgbGV0IHJnYmEgPSBoZXgubWF0Y2gobmV3IFJlZ0V4cCgvKFxcdyspLywgJ2lnJykpO1xuICAgICAgICAgICAgcmV0dXJuIGByZ2JhKCR7cmdiYVsxXX0sJHtyZ2JhWzJdfSwke3JnYmFbM119LCR7b3BhY2l0eX0pYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGhleC5pbmRleE9mKCdyZ2IoJyk+LTEpe1xuICAgICAgICAgICAgbGV0IHJnYiA9IGhleC5tYXRjaChuZXcgUmVnRXhwKC8oXFx3KykvLCAnaWcnKSk7XG4gICAgICAgICAgICByZXR1cm4gYHJnYmEoJHtyZ2JbMV19LCR7cmdiWzJdfSwke3JnYlszXX0sJHtvcGFjaXR5fSlgO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoaGV4LmluZGV4T2YoJyMnKSA8IDAgfHwgaGV4Lmxlbmd0aCA8IDQgfHwgKGhleC5sZW5ndGggPj0gNSAmJiBoZXgubGVuZ3RoIDw9IDYpKXtcbiAgICAgICAgICAgIHJldHVybiBoZXg7XG4gICAgICAgIH1cblxuICAgICAgICBoZXggPSBoZXgubGVuZ3RoID09IDQgPyBgJHtoZXhbMV19JHtoZXhbMV19JHtoZXhbMl19JHtoZXhbMl19JHtoZXhbM119JHtoZXhbM119YCA6IGhleDtcblxuICAgICAgICBsZXQgcmdiID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG5cbiAgICAgICAgbGV0IHIgPSBwYXJzZUludChyZ2JbMV0sIDE2KTtcbiAgICAgICAgbGV0IGcgPSBwYXJzZUludChyZ2JbMl0sIDE2KTtcbiAgICAgICAgbGV0IGIgPSBwYXJzZUludChyZ2JbM10sIDE2KTtcblxuICAgICAgICByZXR1cm4gcmdiID8gYHJnYmEoJHtyfSwke2d9LCR7Yn0sJHtvcGFjaXR5fSlgOiBoZXg7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgcmV0dXJuICcjZmZmZmZmJztcbiAgICB9XG59XG5cbmNvbnN0IHN0YXR1czJzdHIgPSAoc3RhdHVzLCB0eXBlKSA9PiB7XG4gICAgbGV0IHRleHQgPSAnJ1xuICAgIGlmKHR5cGUgPT0gJ29yZGVyJyl7XG4gICAgICAgIHN3aXRjaChzdGF0dXMpe1xuICAgICAgICAgICAgY2FzZSAwIDogdGV4dCA9ICflvoXku5jmrL4nOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMSA6IHRleHQgPSAn5b6F5Y+R6LSnJzsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDIgOiB0ZXh0ID0gJ+W+heaUtui0pyc7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzIDogdGV4dCA9ICflvoXor4Tku7cnOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNCA6IHRleHQgPSAn5bey5a6M5oiQJzsgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiB0ZXh0ID0gJ+W3suWkseaViCc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRleHRcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZm9ybWF0VGltZSxcbiAgICBoZXgycmdiYSxcbiAgICBnZXRsZW4sXG4gICAgY3V0c3RyLFxuICAgIHN0YXR1czJzdHJcbn0iXX0=