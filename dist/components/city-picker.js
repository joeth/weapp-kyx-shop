"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),_wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_cityData=require("./../utils/cityData.js"),_cityData2=_interopRequireDefault(_cityData),CityPicker=function(t){function e(){var t,i,s,n;_classCallCheck(this,e);for(var o=arguments.length,a=Array(o),c=0;c<o;c++)a[c]=arguments[c];return i=s=_possibleConstructorReturn(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),s.components={},s.props={selected:{type:String,default:"北京 北京市 东城区",twoWay:!0,coerce:function(t){console.log("coerce selected",t)}}},s.data={tempValue:"",cityData:[],provinces:[],citys:[],countys:[],province:"",city:"",county:"",value:[0,0,0],values:[0,0,0]},s.events={showPicker:function(){var t=this.$wxpage.selectComponent(".J_Picker_Popup");t&&t.show()},hidePicker:function(){var t=this.$wxpage.selectComponent(".J_Picker_Popup");t&&t.hide()}},s.watch={},s.methods={tap:function(){},onCancel:function(){this.$emit("hidePicker")},onConfirm:function(){this.selected=this.province+" "+this.city+" "+this.county,this.$emit("hidePicker")},onChange:function(t){console.log(t);var e=t.detail.value,i=this.values;if(e[0]!=i[0]){console.log("province no ");for(var s=[],n=[],o=0;o<this.cityData[e[0]].sub.length;o++)s.push(this.cityData[e[0]].sub[o].name);for(var a=0;a<this.cityData[e[0]].sub[0].sub.length;a++)n.push(this.cityData[e[0]].sub[0].sub[a].name);return this.province=this.provinces[e[0]],this.city=this.cityData[e[0]].sub[0].name,this.citys=s,this.county=this.cityData[e[0]].sub[0].sub[0].name,this.countys=n,this.values=e,void(this.value=[e[0],0,0])}if(e[1]!=i[1]){console.log("city no");for(var c=[],r=0;r<this.cityData[e[0]].sub[e[1]].sub.length;r++)c.push(this.cityData[e[0]].sub[e[1]].sub[r].name);return this.city=this.citys[e[1]],this.county=this.cityData[e[0]].sub[e[1]].sub[0].name,this.countys=c,this.values=e,void(this.value=[e[0],e[1],0])}if(e[2]!=i[2])return console.log("county no"),this.county=this.countys[e[2]],void(this.values=e)}},n=i,_possibleConstructorReturn(s,n)}return _inherits(e,t),_createClass(e,[{key:"onLoad",value:function(){this.$parent.$apply(),this.cityData=_cityData2.default;for(var t=[],e=[],i=[],s=0;s<this.cityData.length;s++)t.push(this.cityData[s].name);console.log("省份完成");for(var n=0;n<this.cityData[0].sub.length;n++)e.push(this.cityData[0].sub[n].name);console.log("city完成");for(var o=0;o<this.cityData[0].sub[0].sub.length;o++)i.push(this.cityData[0].sub[0].sub[o].name);this.provinces=t,this.citys=e,this.countys=i,this.province=this.cityData[0].name,this.city=this.cityData[0].sub[0].name,this.county=this.cityData[0].sub[0].sub[0].name,console.log("初始化完成")}}]),e}(_wepy2.default.component);exports.default=CityPicker;