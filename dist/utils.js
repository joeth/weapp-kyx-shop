'use strict';

var formatTime = function formatTime(date) {
    var year = date.getFullYear();
    var month = date.getMonth() + 1;
    var day = date.getDate();
    var hour = date.getHours();
    var minute = date.getMinutes();
    var second = date.getSeconds();

    return [year, month, day].map(formatNumber).join('/') + ' ' + [hour, minute, second].map(formatNumber).join(':');
};

var formatNumber = function formatNumber(n) {
    n = n.toString();
    return n[1] ? n : '0' + n;
};

//获取字符串的真实长度（字节长度）
var getlen = function getlen(str) {
    var len = str.length,
        truelen = 0;
    for (var x = 0; x < len; x++) {
        if (str.charCodeAt(x) > 128) {
            truelen += 2;
        } else {
            truelen += 1;
        }
    }
    return Math.ceil(truelen);
};
//按字节长度截取字符串，返回substr截取位置
var cutstr = function cutstr(str, length) {
    var len = str.length,
        tlen = len,
        nlen = 0;
    for (var x = 0; x < len; x++) {
        if (str.charCodeAt(x) > 128) {
            if (nlen + 2 < length) {
                nlen += 2;
            } else {
                tlen = x;
                break;
            }
        } else {
            if (nlen + 1 < length) {
                nlen += 1;
            } else {
                tlen = x;
                break;
            }
        }
    }
    return tlen;
};

var hex2rgba = function hex2rgba(hex) {
    var opacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;

    try {

        if (hex.indexOf('rgba(') > -1) {
            var rgba = hex.match(new RegExp(/(\w+)/, 'ig'));
            return 'rgba(' + rgba[1] + ',' + rgba[2] + ',' + rgba[3] + ',' + opacity + ')';
        }

        if (hex.indexOf('rgb(') > -1) {
            var _rgb = hex.match(new RegExp(/(\w+)/, 'ig'));
            return 'rgba(' + _rgb[1] + ',' + _rgb[2] + ',' + _rgb[3] + ',' + opacity + ')';
        }

        if (hex.indexOf('#') < 0 || hex.length < 4 || hex.length >= 5 && hex.length <= 6) {
            return hex;
        }

        hex = hex.length == 4 ? '' + hex[1] + hex[1] + hex[2] + hex[2] + hex[3] + hex[3] : hex;

        var rgb = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);

        var r = parseInt(rgb[1], 16);
        var g = parseInt(rgb[2], 16);
        var b = parseInt(rgb[3], 16);

        return rgb ? 'rgba(' + r + ',' + g + ',' + b + ',' + opacity + ')' : hex;
    } catch (e) {
        return '#ffffff';
    }
};

var status2str = function status2str(status, type) {
    var text = '';
    if (type == 'order') {
        switch (status) {
            case 0:
                text = '待付款0';break;
            case 1:
                text = '待付款1';break;
            case 2:
                text = '待付款2';break;
            case 3:
                text = '待付款3';break;
            case 4:
                text = '待付款4';break;
            case 5:
                text = '待付款5';break;
            default:
                text = '已失效';
        }
    }
    return text;
};

module.exports = {
    formatTime: formatTime,
    hex2rgba: hex2rgba,
    getlen: getlen,
    cutstr: cutstr,
    status2str: status2str
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImZvcm1hdFRpbWUiLCJ5ZWFyIiwiZGF0ZSIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW51dGUiLCJnZXRNaW51dGVzIiwic2Vjb25kIiwiZ2V0U2Vjb25kcyIsIm1hcCIsImZvcm1hdE51bWJlciIsImpvaW4iLCJuIiwidG9TdHJpbmciLCJnZXRsZW4iLCJsZW4iLCJzdHIiLCJsZW5ndGgiLCJ0cnVlbGVuIiwieCIsImNoYXJDb2RlQXQiLCJNYXRoIiwiY2VpbCIsImN1dHN0ciIsInRsZW4iLCJubGVuIiwiaGV4MnJnYmEiLCJoZXgiLCJvcGFjaXR5IiwiaW5kZXhPZiIsInJnYmEiLCJtYXRjaCIsIlJlZ0V4cCIsInJnYiIsImV4ZWMiLCJyIiwicGFyc2VJbnQiLCJnIiwiYiIsImUiLCJzdGF0dXMyc3RyIiwic3RhdHVzIiwidHlwZSIsInRleHQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUNBLElBQU1BLGFBQWEsU0FBYkEsVUFBYSxPQUFRO0FBQ3pCLFFBQU1DLE9BQU9DLEtBQUtDLFdBQUwsRUFBYjtBQUNBLFFBQU1DLFFBQVFGLEtBQUtHLFFBQUwsS0FBa0IsQ0FBaEM7QUFDQSxRQUFNQyxNQUFNSixLQUFLSyxPQUFMLEVBQVo7QUFDQSxRQUFNQyxPQUFPTixLQUFLTyxRQUFMLEVBQWI7QUFDQSxRQUFNQyxTQUFTUixLQUFLUyxVQUFMLEVBQWY7QUFDQSxRQUFNQyxTQUFTVixLQUFLVyxVQUFMLEVBQWY7O0FBRUEsV0FBTyxDQUFDWixJQUFELEVBQU9HLEtBQVAsRUFBY0UsR0FBZCxFQUFtQlEsR0FBbkIsQ0FBdUJDLFlBQXZCLEVBQXFDQyxJQUFyQyxDQUEwQyxHQUExQyxJQUFpRCxHQUFqRCxHQUF1RCxDQUFDUixJQUFELEVBQU9FLE1BQVAsRUFBZUUsTUFBZixFQUF1QkUsR0FBdkIsQ0FBMkJDLFlBQTNC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QkFKYTtBQUtiaUI7QUFMYSxDQUFqQiIsImZpbGUiOiJ1dGlscy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5jb25zdCBmb3JtYXRUaW1lID0gZGF0ZSA9PiB7XHJcbiAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKVxyXG4gIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMVxyXG4gIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpXHJcbiAgY29uc3QgaG91ciA9IGRhdGUuZ2V0SG91cnMoKVxyXG4gIGNvbnN0IG1pbnV0ZSA9IGRhdGUuZ2V0TWludXRlcygpXHJcbiAgY29uc3Qgc2Vjb25kID0gZGF0ZS5nZXRTZWNvbmRzKClcclxuXHJcbiAgcmV0dXJuIFt5ZWFyLCBtb250aCwgZGF5XS5tYXAoZm9ybWF0TnVtYmVyKS5qb2luKCcvJykgKyAnICcgKyBbaG91ciwgbWludXRlLCBzZWNvbmRdLm1hcChmb3JtYXROdW1iZXIpLmpvaW4oJzonKVxyXG59XHJcblxyXG5jb25zdCBmb3JtYXROdW1iZXIgPSBuID0+IHtcclxuICBuID0gbi50b1N0cmluZygpXHJcbiAgcmV0dXJuIG5bMV0gPyBuIDogJzAnICsgblxyXG59XHJcblxyXG4vL+iOt+WPluWtl+espuS4sueahOecn+WunumVv+W6pu+8iOWtl+iKgumVv+W6pu+8iVxyXG5jb25zdCBnZXRsZW4gPSBzdHIgPT4ge1xyXG4gICAgbGV0IGxlbiA9IHN0ci5sZW5ndGgsIHRydWVsZW4gPSAwO1xyXG4gICAgZm9yKHZhciB4ID0gMDsgeCA8IGxlbjsgeCsrKXtcclxuICAgICAgICBpZihzdHIuY2hhckNvZGVBdCh4KSA+IDEyOCl7XHJcbiAgICAgICAgICAgIHRydWVsZW4gKz0gMjtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdHJ1ZWxlbiArPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBNYXRoLmNlaWwodHJ1ZWxlbik7XHJcbn1cclxuLy/mjInlrZfoioLplb/luqbmiKrlj5blrZfnrKbkuLLvvIzov5Tlm55zdWJzdHLmiKrlj5bkvY3nva5cclxuY29uc3QgY3V0c3RyID0gKHN0ciwgbGVuZ3RoKSA9PiB7XHJcbiAgICBsZXQgbGVuID0gc3RyLmxlbmd0aCwgdGxlbiA9IGxlbiwgbmxlbiA9IDA7XHJcbiAgICBmb3IodmFyIHggPSAwOyB4IDwgbGVuOyB4Kyspe1xyXG4gICAgICAgIGlmKHN0ci5jaGFyQ29kZUF0KHgpID4gMTI4KXtcclxuICAgICAgICAgICAgaWYobmxlbiArIDIgPCBsZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgbmxlbiArPSAyO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRsZW4gPSB4O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgaWYobmxlbiArIDEgPCBsZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgbmxlbiArPSAxO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRsZW4gPSB4O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGxlbjtcclxufVxyXG5cclxuY29uc3QgaGV4MnJnYmEgPSAoaGV4LCBvcGFjaXR5PTEpID0+IHtcclxuICAgIHRyeXtcclxuXHJcbiAgICAgICAgaWYoaGV4LmluZGV4T2YoJ3JnYmEoJyk+LTEpe1xyXG4gICAgICAgICAgICBsZXQgcmdiYSA9IGhleC5tYXRjaChuZXcgUmVnRXhwKC8oXFx3KykvLCAnaWcnKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBgcmdiYSgke3JnYmFbMV19LCR7cmdiYVsyXX0sJHtyZ2JhWzNdfSwke29wYWNpdHl9KWA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihoZXguaW5kZXhPZigncmdiKCcpPi0xKXtcclxuICAgICAgICAgICAgbGV0IHJnYiA9IGhleC5tYXRjaChuZXcgUmVnRXhwKC8oXFx3KykvLCAnaWcnKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBgcmdiYSgke3JnYlsxXX0sJHtyZ2JbMl19LCR7cmdiWzNdfSwke29wYWNpdHl9KWA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihoZXguaW5kZXhPZignIycpIDwgMCB8fCBoZXgubGVuZ3RoIDwgNCB8fCAoaGV4Lmxlbmd0aCA+PSA1ICYmIGhleC5sZW5ndGggPD0gNikpe1xyXG4gICAgICAgICAgICByZXR1cm4gaGV4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaGV4ID0gaGV4Lmxlbmd0aCA9PSA0ID8gYCR7aGV4WzFdfSR7aGV4WzFdfSR7aGV4WzJdfSR7aGV4WzJdfSR7aGV4WzNdfSR7aGV4WzNdfWAgOiBoZXg7XHJcblxyXG4gICAgICAgIGxldCByZ2IgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KTtcclxuXHJcbiAgICAgICAgbGV0IHIgPSBwYXJzZUludChyZ2JbMV0sIDE2KTtcclxuICAgICAgICBsZXQgZyA9IHBhcnNlSW50KHJnYlsyXSwgMTYpO1xyXG4gICAgICAgIGxldCBiID0gcGFyc2VJbnQocmdiWzNdLCAxNik7XHJcblxyXG4gICAgICAgIHJldHVybiByZ2IgPyBgcmdiYSgke3J9LCR7Z30sJHtifSwke29wYWNpdHl9KWA6IGhleDtcclxuICAgIH0gY2F0Y2goZSl7XHJcbiAgICAgICAgcmV0dXJuICcjZmZmZmZmJztcclxuICAgIH1cclxufVxyXG5cclxuY29uc3Qgc3RhdHVzMnN0ciA9IChzdGF0dXMsIHR5cGUpID0+IHtcclxuICAgIGxldCB0ZXh0ID0gJydcclxuICAgIGlmKHR5cGUgPT0gJ29yZGVyJyl7XHJcbiAgICAgICAgc3dpdGNoKHN0YXR1cyl7XHJcbiAgICAgICAgICAgIGNhc2UgMCA6IHRleHQgPSAn5b6F5LuY5qy+MCc7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEgOiB0ZXh0ID0gJ+W+heS7mOasvjEnOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyIDogdGV4dCA9ICflvoXku5jmrL4yJzsgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMyA6IHRleHQgPSAn5b6F5LuY5qy+Myc7IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQgOiB0ZXh0ID0gJ+W+heS7mOasvjQnOyBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA1IDogdGV4dCA9ICflvoXku5jmrL41JzsgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRleHQgPSAn5bey5aSx5pWIJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGV4dFxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGZvcm1hdFRpbWUsXHJcbiAgICBoZXgycmdiYSxcclxuICAgIGdldGxlbixcclxuICAgIGN1dHN0cixcclxuICAgIHN0YXR1czJzdHJcclxufSJdfQ==