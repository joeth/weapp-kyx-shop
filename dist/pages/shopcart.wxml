
<form class="shopcart" report-submit="true" bindsubmit="formSubmit">
    <view class="shopcart-contain">
        <block  wx:for="{{shopCartList}}" wx:for-item="commodity" wx:key="commodity">
            <wxc-flex class="shopcart-commodity">
                <view class="shopcart-commodity-check" catchtap="onCheckOne" data-wpyoncheckone-a="{{commodity}}">
                    <text class="icon icon-radio{{ commodity.isSelected ? '-cur': '' }}"/>
                </view>
                <navigator class="shopcart-commodity-cover" url="/pages/commodity/detail?id={{commodity.id}}">
                    <image src="{{commodity.cover}}"/>
                </navigator>
                <wxc-flex class="shopcart-commodity-main" main="between" dir="top">
                    <wxc-flex class="shopcart-commodity-contain" dir="top">
                        <view class="shopcart-commodity-title">{{commodity.title}}</view>
                        <view class="shopcart-commodity-text">{{commodity.type}}</view>
                    </wxc-flex>
                    <wxc-flex class="shopcart-commodity-count" main="between" cross="center">
                        <wxc-price class="price" value="{{commodity.price}}"/>
                        <wxc-counter number="{{commodity.count || 0}}" max="{{commodity.maximum || 1}}" min="1"  bind:changenumber="onChangeCounter" data-value="{{commodity}}"/>
                    </wxc-flex>
                    <text class="icon icon-close" catchtap="onDelCart" data-wpyondelcart-a="{{commodity}}"/>
                </wxc-flex>
            </wxc-flex>
        </block>
        <button bindtap="onAddCart">添加一个</button>
    </view>
    <wxc-flex class="shopcart-toolbar">
        <wxc-flex class="contain" cross="center" main="between">
            <view class="check">
                <label catchtap="onCheckAll" data-wpyoncheckall-a="">
                    <text class="icon icon-radio{{ isSelectedAll ? '-cur': '' }}"/>
                    <text>全选</text>
                </label>
            </view>
            <view class="amount">
                合计：<wxc-price class="price" value="{{totalAmount}}"/>
            </view>
        </wxc-flex>
        <button class="submit" type="base" size="bigger" form-type="submit">结算</button>
    </wxc-flex>
</form>
<wxc-toast is-show="{{$toast.show}}" icon="{{$toast.icon}}" icon-image="{{$toast.image}}" icon-color="{{$toast.color}}" text="{{$toast.text}}" duration="{{$toast.duration}}"/>